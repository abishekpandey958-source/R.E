<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>3 Pulley Modified ATD</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2563eb">
  <link rel="icon" href="app-icon.png">
  <link rel="apple-touch-icon" href="app-icon.png">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body {
      -webkit-user-select: none;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      background: #f1f5f9;
    }
    input {
      -webkit-user-select: text;
      user-select: text;
    }
    #splash {
      position: fixed;
      inset: 0;
      background: #121212;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #splash img {
      width: 120px;
      height: 120px;
      margin-bottom: 15px;
    }
    #splash h1 {
      color: #fff;
      font-size: 24px;
    }
    /* ---------- 3D Typography ---------- */
.trd-title-3d {
  font-size: 1.6rem;           /* Bigger title */
  font-weight: 900;
  letter-spacing: 1px;
  color: #0f2a44;
  text-shadow:
    1px 1px 0 #c7d2fe,
    2px 2px 0 #a5b4fc,
    3px 3px 6px rgba(0,0,0,0.25);
}

/* ---------- 3D Pill / Card ---------- */
.trd-pill-3d {
  background: linear-gradient(145deg, #102f4a, #0b1f33);
  color: white;
  box-shadow:
    4px 4px 10px rgba(0,0,0,0.35),
    inset 1px 1px 2px rgba(255,255,255,0.15);
  transform: translateZ(0);
}

/* ---------- Input 3D ---------- */
.trd-input {
  font-size: 1.1rem;           /* Bigger input text */
  box-shadow:
    inset 2px 2px 4px rgba(0,0,0,0.15),
    inset -2px -2px 4px rgba(255,255,255,0.8);
}

/* ---------- Button 3D ---------- */
.trd-button-3d {
  font-size: 1.2rem;           /* Bigger button text */
  background: linear-gradient(145deg, #0f2a44, #0b1f33);
  box-shadow:
    4px 4px 10px rgba(0,0,0,0.4),
    inset 1px 1px 2px rgba(255,255,255,0.2);
}

.trd-button-3d:active {
  box-shadow:
    inset 4px 4px 8px rgba(0,0,0,0.5);
  transform: scale(0.98);
}

/* ---------- Result 3D Card ---------- */
.trd-result-3d {
  box-shadow:
    6px 6px 14px rgba(0,0,0,0.25),
    inset 1px 1px 2px rgba(255,255,255,0.6);
}
  </style>
</head>

<body>

<!-- Splash -->
<div id="splash">
  <img src="logo.png" alt="ATD Calc">
  <h1>ATD Calc</h1>
</div>

<!-- Header -->
<div class="text-center mt-6">
  <h1 class="trd-title-3d">
  ATD DIMENSION CALCULATOR
  </h1>
  <p class="text-sm text-slate-600">
    Developed by <b>Abhishek Pandey</b>
  </p>
  </div>

<!-- Main -->
  <hr class="border-t border-slate-300 mt-6 mb-2">
<main class="p-4 max-w-md mx-auto space-y-4">

  <div class="trd-pill-3d rounded-full text-center py-4 font-semibold tracking-wide text-lg">
  3-Pulley Modified ATD
  </div>

  <div>
    <label class="text-sm font-medium">Half Tension Length (m)</label>
    <input id="length" type="number" placeholder="e.g. 750"
      class="w-full p-4 rounded-xl border mt-1 trd-input"
  </div>

  <div>
    <label class="text-sm font-medium">Temperature (°C)</label>
    <input id="temperature" type="number" placeholder="e.g. 35"
      class="w-full p-4 rounded-xl border mt-1 trd-input"
  </div>

  <button onclick="calculate()"
  class="w-full trd-button-3d text-white py-4 rounded-xl font-bold"
    Calculate Dimensions
  </button>

  <!-- Results -->
  
<div id="results" class="hidden bg-white rounded-xl p-5 border border-slate-300 space-y-2 trd-result-3d">
    <p class="text-sm text-[#0f2a44] font-semibold">
      <b>ΔT (Temp Difference):</b>
      <span id="deltaT">0</span> °C
    </p>

    <p class="text-lg"><b>X:</b> <span id="resX_mm">0.00</span> mm</p>
    <p class="text-lg"><b>Y:</b> <span id="resY_mm">0.00</span> mm</p>

    <p class="text-xs text-slate-500 border-t pt-2 mt-2">
      Reference Temperature = <b>35°C</b> (Indian Railway TRD Standard)
    </p>

  </div>

</main>

<!-- Footer -->
<footer class="text-center text-xs text-slate-500 mt-6 pb-6 space-y-1">
  <p>
    Formula: X / Y = 1300 / 2300 + (L × 1.7×10⁻⁵ × ΔT)
  </p>

  <p class="font-bold">
    EASTERN RAILWAY – TRD / BASIRHAT
  </p>

  <p class="text-[11px] text-slate-400 mt-2">
    © 2026 Abhishek Pandey. All Rights Reserved.
  </p>
</footer>

<script>
  // Hide splash
  window.onload = () => {
    setTimeout(() => {
      document.getElementById("splash").style.display = "none";
    }, 2000);
  };

  // Engineering rounding
  function round(val, digits) {
    return Math.round((val + Number.EPSILON) * 10 ** digits) / 10 ** digits;
  }

  // IR-TRD Calculation
  function calculate() {
    const L = parseFloat(document.getElementById("length").value);
    const T = parseFloat(document.getElementById("temperature").value);

    if (isNaN(L) || isNaN(T)) {
      alert("Please enter valid numbers");
      return;
    }

    const T0 = 35;           // IR reference temperature
    const alpha = 1.7e-5;    // Copper expansion coefficient

    const deltaT = T - T0;   // ΔT
    const deltaL = L * alpha * deltaT * 1000; // in mm

    const X = 1300 + deltaL;
    const Y = 2300 + 3 * deltaL;

    document.getElementById("deltaT").textContent = deltaT;
    document.getElementById("resX_mm").textContent = round(X, 2);
    document.getElementById("resY_mm").textContent = round(Y, 2);

    document.getElementById("results").classList.remove("hidden");
    document.getElementById("results").scrollIntoView({ behavior: "smooth" });
  }

  lucide.createIcons();

  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
  }
</script>

</body>
</html>
